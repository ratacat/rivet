{"id":"rivet-09z","title":"Systems.yaml: Principles vs Rules distinction","description":"**TYPE: Training Material - Do Not Close**\n\nFeedback on what belongs in principles vs rules:\n\n**Should be RULES, not principles:**\n- \"Bun runtime only\" - this is a constraint/rule, not a guiding principle\n- \"Mountain Time for all timestamps\" - operational rule\n\n**Could be either:**\n- \"CLI-first development\" - leans principle\n- \"No fallbacks\" - could be principle or rule\n\n**Guideline:** Principles guide decisions and tradeoffs. Rules are hard constraints.","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-15T00:26:02.592917-07:00","created_by":"jaredsmith","updated_at":"2026-01-15T00:26:02.592917-07:00"}
{"id":"rivet-14z","title":"Implement rivet list command","description":"List all systems with optional status filter","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:48:52.676146-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:05:15.891142-07:00","closed_at":"2026-01-07T13:05:15.891142-07:00","close_reason":"Now part of 'rivet system list' subcommand"}
{"id":"rivet-1pt","title":"Implement rivet add command","description":"Add a new system to rivet.yaml with name and description","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:48:52.251245-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:05:15.491983-07:00","closed_at":"2026-01-07T13:05:15.491983-07:00","close_reason":"Now part of 'rivet system add' subcommand","dependencies":[{"issue_id":"rivet-1pt","depends_on_id":"rivet-kw8","type":"blocks","created_at":"2026-01-07T09:49:26.362727-07:00","created_by":"jaredsmith"}]}
{"id":"rivet-2wd","title":"Implement rivet lock command","description":"Lock a code symbol to a system","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:48:53.094886-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:05:14.401028-07:00","closed_at":"2026-01-07T13:05:14.401028-07:00","close_reason":"Removed - 'lock' was premature reification, system terms now added via 'rivet system edit +term'"}
{"id":"rivet-3cq","title":"Implement rivet check command","description":"Grep codebase for symbols and report matches/mismatches","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:49:05.041077-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T09:49:05.041077-07:00"}
{"id":"rivet-3qp","title":"Scan: auto-discovery on plugin install","description":"Internal capability that runs during plugin install. Gathers codebase data (package files, directories, modules), Claude interprets to propose systems. Not a user-facing command. If rivet.yaml exists, prompts user for what to do. See design/plugin-install.yaml.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T09:56:13.137189-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T15:03:40.519744-07:00","dependencies":[{"issue_id":"rivet-3qp","depends_on_id":"rivet-yvx","type":"blocks","created_at":"2026-01-07T23:33:35.961502-07:00","created_by":"jaredsmith"}]}
{"id":"rivet-44g","title":"Implement rivet arch command","description":"Show architecture overview - all systems and their relationships","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:49:04.837073-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T09:49:04.837073-07:00"}
{"id":"rivet-5nf","title":"Implement rivet deprecate command","description":"Mark a system as deprecated, optionally with --replaced-by","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:48:53.475395-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:05:15.095-07:00","closed_at":"2026-01-07T13:05:15.095-07:00","close_reason":"Now part of 'rivet system deprecate' subcommand"}
{"id":"rivet-6c4","title":"Implement rivet show command","description":"Show details of one system - description, requirements, symbols, relationships","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:48:52.460238-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:05:15.684578-07:00","closed_at":"2026-01-07T13:05:15.684578-07:00","close_reason":"Now part of 'rivet system show' subcommand"}
{"id":"rivet-6e8","title":"Define what makes a decision worth recording","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-14T23:36:26.35144-07:00","created_by":"jaredsmith","updated_at":"2026-01-14T23:36:26.35144-07:00","comments":[{"id":2,"issue_id":"rivet-6e8","author":"jaredsmith","text":"## Problem\n\nStack choices like these aren't useful decisions:\n\n- PostgreSQL for persistence - need relational queries\n- Drizzle ORM - type-safe schema with good migration support\n- Pino for logging - JSON structured logs\n- WebSocket for real-time data - REST too slow\n\nThey're answers without the questions. Just implementation details already obvious from package.json.\n\n## What makes a decision worth recording\n\nA useful decision captures the **trade-off** - what you gave up and why.\n\n**Weak:**\n\u003e PostgreSQL for persistence - need relational queries\n\n**Better:**\n\u003e Chose PostgreSQL over SQLite despite simpler deployment because we need concurrent write access from multiple simulation workers. Accepting operational complexity for correctness.\n\nThe second tells you:\n- What constraint drove it (concurrent writes)\n- What alternative was rejected (SQLite)\n- What you're trading (simplicity for correctness)\n\n## Decisions worth recording\n\n- **Boundaries** - why X owns this data, not Y\n- **Constraints accepted** - we'll never support offline mode\n- **Bets** - assuming Kalshi API stays stable; if it changes, refactor cost is ~2 days\n- **Rejected paths** - considered event sourcing, rejected because replay isn't a requirement\n\n## Not worth recording\n\n- Stack choices without rationale (grep the config files)\n- Implementation details that could change\n- Things obvious from the code\n\n## Open questions\n\n- Where should decisions live? (DECISIONS.md? ADRs? beads?)\n- What format? (ADR-style with status/context/alternatives/consequences?)\n- How to distinguish project-level vs component-level decisions?","created_at":"2026-01-15T06:36:41Z"},{"id":3,"issue_id":"rivet-6e8","author":"jaredsmith","text":"## Refinement: Stack decisions aren't interesting\n\nEven the 'better' PostgreSQL example misses the point. Stack choices just aren't that interesting to record - even with trade-offs explained.\n\nWhy? Because:\n- They're usually obvious from context (\"we needed X, so we picked the standard tool for X\")\n- They rarely inform future decisions\n- They don't help you understand the system's shape\n\nWhat IS interesting:\n- **Data ownership** - why does service A own this, not B?\n- **Invariants** - what must always be true? what can never happen?\n- **Coupling choices** - why are these two things connected/separated?\n- **Failure modes** - what do we do when X fails? why that choice?\n- **Scope boundaries** - what is explicitly NOT this system's job?\n\nThese shape how you think about the system. Stack is just... what you built it with.","created_at":"2026-01-15T06:37:02Z"}]}
{"id":"rivet-77x","title":"Track decision evolution","description":"Track when decisions supplant previous ones. Decisions can reference what they replaced. Stays true to 'what IS' - old decisions are removed when supplanted, but the replacement relationship is noted while relevant.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-07T09:56:00.989732-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T09:56:00.989732-07:00"}
{"id":"rivet-871","title":"Implement CLI entry point","description":"Argument parsing in bin/rivet.ts using a CLI framework or manual parsing","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T09:48:39.160296-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:11:58.110883-07:00","closed_at":"2026-01-07T13:11:58.110883-07:00","close_reason":"CLI entry point implemented with command routing","dependencies":[{"issue_id":"rivet-871","depends_on_id":"rivet-er6","type":"blocks","created_at":"2026-01-07T09:49:26.177921-07:00","created_by":"jaredsmith"}]}
{"id":"rivet-87g","title":"TLDR Code Analysis Tool - Setup Guide","description":"Complete setup guide for TLDR (llm-tldr), a token-efficient code analysis tool for LLMs.\n\n## Installation\n\n```bash\n# Requires Python 3.12+\npip3 install llm-tldr\n\n# Verify installation\ntldr --version  # Should show: tldr 1.0.7+\nwhich tldr      # e.g., /Library/Frameworks/Python.framework/Versions/3.12/bin/tldr\n```\n\n## Initialize in a Project\n\n```bash\ncd /path/to/project\ntldr tree .  # First run creates .tldrignore with sensible defaults\n```\n\nThis creates:\n- `.tldr/` directory with cache and daemon files\n- `.tldrignore` file (gitignore syntax) to exclude node_modules, dist, .git, etc.\n\n## Warm the Caches (IMPORTANT)\n\nFor TypeScript/JavaScript projects, you MUST specify `--lang typescript`:\n\n```bash\n# Build call graph cache (REQUIRED for calls, impact, importers)\ntldr warm . --lang typescript\n\n# For Python projects:\ntldr warm . --lang python\n```\n\n## Available Commands\n\n| Command | Description | Example |\n|---------|-------------|---------|\n| `tldr tree \u003cpath\u003e` | File tree as JSON | `tldr tree src/` |\n| `tldr structure \u003cpath\u003e --lang \u003clang\u003e` | Code structure (functions, classes) | `tldr structure src/ --lang typescript` |\n| `tldr search \u003cpattern\u003e \u003cpath\u003e` | Grep-like search with line context | `tldr search \"readFile\" src/` |\n| `tldr extract \u003cfile\u003e` | Full file analysis | `tldr extract src/main.ts` |\n| `tldr imports \u003cfile\u003e` | What a file imports | `tldr imports src/index.ts` |\n| `tldr importers \u003cmodule\u003e \u003cpath\u003e --lang \u003clang\u003e` | Reverse import lookup | `tldr importers yaml . --lang typescript` |\n| `tldr calls \u003cpath\u003e --lang \u003clang\u003e` | Cross-file call graph | `tldr calls . --lang typescript` |\n| `tldr impact \u003cfunc\u003e \u003cpath\u003e --lang \u003clang\u003e` | Reverse call graph (all callers) | `tldr impact readFile . --lang typescript` |\n| `tldr context \u003cfunc\u003e --project \u003cpath\u003e` | LLM-optimized context | `tldr context main --project .` |\n| `tldr diagnostics \u003cfile\u003e` | Type/lint errors | `tldr diagnostics src/main.ts` |\n| `tldr daemon start/stop/status` | Manage background daemon | `tldr daemon status` |\n\n## Semantic Search (Experimental)\n\n```bash\n# Download embedding model (1.3GB stored in ~/.cache/huggingface, shared globally)\ntldr semantic index src/ --lang typescript\n\n# Search by meaning\ntldr semantic search \"error handling logic\"\n```\n\n**Known Bug (v1.0.7):** Semantic index claims to build but doesn't persist the FAISS index file. The index works in-memory during the session but is lost.\n\n## Claude Code Hooks Setup\n\n### 1. Create hooks directory:\n```bash\nmkdir -p ~/.claude/hooks/tldr\n```\n\n### 2. Session Start Hook (warms caches)\nFile: `~/.claude/hooks/tldr/session-start-tldr.sh`\n```bash\n#!/bin/bash\n# ABOUTME: SessionStart hook that warms TLDR indexes for fast queries\n# ABOUTME: Starts daemon if needed and pre-builds call graph cache\n\nset -e\n\nPROJECT_DIR=\"${CLAUDE_PROJECT_DIR:-.}\"\n\n# Check if .tldr exists (TLDR is initialized)\nif [[ ! -d \"$PROJECT_DIR/.tldr\" ]]; then\n    exit 0\nfi\n\n# Start daemon if not running (runs in background)\ntldr daemon start \"$PROJECT_DIR\" 2\u003e/dev/null \u0026\n\n# Warm the indexes (call graph, file hashes)\ntldr warm \"$PROJECT_DIR\" 2\u003e/dev/null \u0026\n\n# Don't block session start - let these run in background\nexit 0\n```\n\n### 3. Post-Read Context Injection Hook\nFile: `~/.claude/hooks/tldr/read-context-inject.sh`\n```bash\n#!/bin/bash\n# ABOUTME: PostToolUse hook that injects file structure context after Read\n# ABOUTME: Provides function signatures, imports, and call relationships\n\nset -e\n\nINPUT=$(cat)\nFILE_PATH=$(echo \"$INPUT\" | jq -r '.tool_input.file_path // empty')\n\nif [[ -z \"$FILE_PATH\" || ! -f \"$FILE_PATH\" ]]; then\n    exit 0\nfi\n\ncase \"$FILE_PATH\" in\n    *.ts|*.tsx|*.js|*.jsx|*.py|*.go|*.rs|*.java|*.rb|*.php|*.c|*.cpp|*.h)\n        ;;\n    *)\n        exit 0\n        ;;\nesac\n\nSTRUCTURE=$(tldr extract \"$FILE_PATH\" 2\u003e/dev/null || echo '{}')\nFUNC_COUNT=$(echo \"$STRUCTURE\" | jq '[.functions // [] | length] | add // 0')\nCLASS_COUNT=$(echo \"$STRUCTURE\" | jq '[.classes // [] | length] | add // 0')\n\nif [[ \"$FUNC_COUNT\" -eq 0 \u0026\u0026 \"$CLASS_COUNT\" -eq 0 ]]; then\n    exit 0\nfi\n\nCONTEXT=$(echo \"$STRUCTURE\" | jq -r '\n    \"── File Structure ──\\n\" +\n    (if (.functions | length) \u003e 0 then\n        \"Functions:\\n\" + (.functions | map(\"  \" + .name + \"(\" + (.params | join(\", \")) + \")\") | join(\"\\n\"))\n    else \"\" end)\n')\n\njq -n --arg ctx \"$CONTEXT\" '{\n    \"hookSpecificOutput\": {\n        \"hookEventName\": \"PostToolUse\",\n        \"additionalContext\": $ctx\n    }\n}'\n\nexit 0\n```\n\n### 4. Post-Edit Diagnostics Hook\nFile: `~/.claude/hooks/tldr/post-edit-diagnostics.sh`\n```bash\n#!/bin/bash\n# ABOUTME: PostToolUse hook that runs type/lint diagnostics after Edit/Write\n# ABOUTME: Catches errors immediately rather than waiting for test runs\n\nset -e\n\nINPUT=$(cat)\nFILE_PATH=$(echo \"$INPUT\" | jq -r '.tool_input.file_path // empty')\n\nif [[ -z \"$FILE_PATH\" || ! -f \"$FILE_PATH\" ]]; then\n    exit 0\nfi\n\ncase \"$FILE_PATH\" in\n    *.ts|*.tsx|*.js|*.jsx|*.py|*.go|*.rs|*.java|*.rb|*.php)\n        ;;\n    *)\n        exit 0\n        ;;\nesac\n\nDIAGNOSTICS=$(tldr diagnostics \"$FILE_PATH\" --format json 2\u003e/dev/null || echo '{\"errors\":[],\"warnings\":[]}')\nERROR_COUNT=$(echo \"$DIAGNOSTICS\" | jq '[.errors // [] | length] | add // 0')\nWARNING_COUNT=$(echo \"$DIAGNOSTICS\" | jq '[.warnings // [] | length] | add // 0')\n\nif [[ \"$ERROR_COUNT\" -gt 0 || \"$WARNING_COUNT\" -gt 0 ]]; then\n    FORMATTED=$(echo \"$DIAGNOSTICS\" | jq -r '\n        (if (.errors | length) \u003e 0 then\n            \"ERRORS:\\n\" + (.errors | map(\"  \\(.file):\\(.line): \\(.message)\") | join(\"\\n\"))\n        else \"\" end) +\n        (if (.warnings | length) \u003e 0 then\n            \"\\nWARNINGS:\\n\" + (.warnings | map(\"  \\(.file):\\(.line): \\(.message)\") | join(\"\\n\"))\n        else \"\" end)\n    ')\n\n    jq -n --arg ctx \"$FORMATTED\" '{\n        \"hookSpecificOutput\": {\n            \"hookEventName\": \"PostToolUse\",\n            \"additionalContext\": (\"── Diagnostics ──\\n\" + $ctx)\n        }\n    }'\nfi\n\nexit 0\n```\n\n### 5. Make hooks executable:\n```bash\nchmod +x ~/.claude/hooks/tldr/*.sh\n```\n\n### 6. Add to Claude settings (~/.claude/settings.json):\n```json\n{\n  \"permissions\": {\n    \"allow\": [\n      \"Bash(tldr:*)\"\n    ]\n  },\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"matcher\": \"\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"/path/to/home/.claude/hooks/tldr/session-start-tldr.sh\"\n          }\n        ]\n      }\n    ],\n    \"PostToolUse\": [\n      {\n        \"matcher\": \"Read\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"/path/to/home/.claude/hooks/tldr/read-context-inject.sh\"\n          }\n        ]\n      },\n      {\n        \"matcher\": \"Edit|Write\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"/path/to/home/.claude/hooks/tldr/post-edit-diagnostics.sh\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n## Key Learnings\n\n1. **Always specify `--lang typescript`** for TS/JS projects - commands default to Python\n2. **Run `tldr warm . --lang typescript`** first to build call graph cache\n3. **Embedding model is shared** at `~/.cache/huggingface` (not per-project)\n4. **Daemon runs per-project** with socket at `/tmp/tldr-{hash}.sock`\n5. **Semantic search has a persistence bug** in v1.0.7 - indexes in memory but doesn't save\n\n## Troubleshooting\n\n```bash\n# Check daemon status\ntldr daemon status\n\n# Restart daemon\ntldr daemon stop \u0026\u0026 tldr daemon start\n\n# Check available tools\ntldr doctor\n\n# Force re-warm cache\nrm -rf .tldr/cache \u0026\u0026 tldr warm . --lang typescript\n```","notes":"## Bug Analysis Complete (2026-01-11)\n\n**Root Cause Found:** In `semantic.py` lines 877-878, `build_semantic_index()` saves the FAISS index to `{path}/.tldr/cache/semantic/` where `{path}` is the argument passed. But `semantic_search()` looks for the index at the current working directory's `.tldr/`.\n\n**Reproduction:**\n```bash\ntldr semantic index src/ --lang typescript  # Saves to src/.tldr/cache/semantic/\ntldr semantic search \"query\"                 # Looks in ./.tldr/cache/semantic/ - NOT FOUND\n```\n\n**Workaround:** Always run from project root with `.` as path:\n```bash\ntldr semantic index . --lang typescript  # Saves to ./.tldr/cache/semantic/ ✓\n```\n\n**Fix needed:** `build_semantic_index()` should find the project root (look for existing `.tldr/` or `.git/` in parents) rather than using the path argument directly.","status":"open","priority":3,"issue_type":"chore","created_at":"2026-01-11T06:22:12.799843-07:00","created_by":"jaredsmith","updated_at":"2026-01-11T06:27:16.970055-07:00","external_ref":"gh-parcadei/llm-tldr#7","labels":["documentation","resource","setup-guide"]}
{"id":"rivet-91f","title":"Add auto-commit behavior","description":"Each modifying command should auto-commit rivet.yaml with descriptive message","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:49:05.255157-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:12:24.278678-07:00","closed_at":"2026-01-07T13:12:24.278678-07:00","close_reason":"Auto-commit implemented in system and term commands"}
{"id":"rivet-9aj","title":"Rivet: Systems.yaml generation prompting guidelines","description":"**TYPE: Training Material - Do Not Close**\n\nGuidelines for prompting/generating systems.yaml content. Use these to improve deep-harvest and init prompts.\n\n## PRINCIPLES (project-level)\n- Guiding philosophies for decision-making\n- Should inform tradeoffs, not constrain actions\n- ASK: \"Does this help someone choose between options?\"\n- ANTI-PATTERN: Operational constraints (use rules instead)\n\n## RULES (project-level, maybe new section?)\n- Hard constraints and operational requirements\n- Non-negotiable technical decisions\n- Examples: \"Bun runtime only\", \"Mountain Time timestamps\"\n\n## REQUIREMENTS (system-level)\n- Must be complete and self-contained\n- Specify WHAT data/operations are constrained\n- Should be verifiable - how would you check compliance?\n- ASK: \"Can someone unfamiliar with the project understand this?\"\n\n## BOUNDARIES (system-level)\n- What this system OWNS (responsibility)\n- What must NOT be here (exclusions)\n- Interface points with other systems\n- ANTI-PATTERN: Requirements disguised as boundaries\n\n## DESCRIPTIONS (system-level)\n- Lead with WHY this system exists\n- What problem does it solve?\n- Why is it a separate system vs part of something else?\n- ANTI-PATTERN: Just listing what it does\n\n## RELATIONSHIPS (system-level)\n- Include BOTH directions: depends_on AND used_by\n- Add brief reason for each relationship\n- ASK: \"Can I trace data/control flow from this?\"\n\n## TERMS (project-level)\n- Domain vocabulary that needs shared understanding\n- Include deprecated terms with migration path\n- Keep updated as language evolves","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-15T00:27:55.148852-07:00","created_by":"jaredsmith","updated_at":"2026-01-15T00:27:55.148852-07:00"}
{"id":"rivet-a5n","title":"Implement rivet history command","description":"Show provenance of requirements/decisions via git history. Leverages auto-commit behavior - every change is tracked. Answers: when was this added, by whom, in what context.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-07T10:17:41.472074-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T10:17:41.472074-07:00"}
{"id":"rivet-ah5","title":"Implement rivet sync command","description":"Batch multiple operations in one command, each getting its own commit","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-07T09:49:05.470528-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T09:49:05.470528-07:00"}
{"id":"rivet-b1z","title":"Implement rivet require command","description":"Add a requirement statement to a system","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:48:52.886675-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:05:14.640487-07:00","closed_at":"2026-01-07T13:05:14.640487-07:00","close_reason":"Superseded by 'rivet system edit +requirement'"}
{"id":"rivet-c05","title":"Rivet Product Communications","description":"# Epic: Rivet Product Communications\n\n**Do not close this epic.** This is a living document for product ideas around how Rivet communicates with users.\n\n## Core Philosophy\n\nRivet is the interface between linguistic scaffolding (decisions, requirements, terminology) and code. Communication should reinforce this.\n\n## Key Touchpoints\n\n1. **Install** - first impression, explain what Rivet does\n2. **Init** - analyze codebase, explain what was found\n3. **Session Start** - inject context, reinforce locked terms\n4. **Session Harvest** - capture emerging terms/decisions\n5. **Deep Harvest** - mine historical conversations\n\n## Feature Ideas\n\n(Add ideas below as they come up)","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-14T23:24:45.740342-07:00","created_by":"jaredsmith","updated_at":"2026-01-14T23:24:45.740342-07:00","comments":[{"id":1,"issue_id":"rivet-c05","author":"jaredsmith","text":"## Feature: Post-Install Linguistic Collision Scan\n\n**Trigger:** Right after `rivet install` completes\n\n**What it does:**\n1. Scan codebase for inconsistent naming patterns\n2. Detect terms that were renamed (old names still lingering)\n3. Find areas of \"linguistic drift\" - same concept, different names\n\n**User interaction:**\n- Present findings as suggestions\n- Offer to create locked terms for the canonical names\n- Offer to deprecate the inconsistent/old terms → point to correct ones\n\n**Value prop:**\n\u003e \"This forces AIs to use the correct terms. When they see deprecated terms anywhere, they're instructed to change them to the correct terms.\"\n\n**Example output:**\n\u003e \"Found some naming inconsistencies:\n\u003e - getUserData vs fetchUserInfo - same concept, different names\n\u003e - config vs settings vs options - used interchangeably\n\u003e \n\u003e Want me to lock down the canonical terms and deprecate the others?\"\n\n**Implementation notes:**\n- Could use TLDR semantic search to find similar concepts\n- Could use grep patterns for common suffixes (Data/Info, Config/Settings)\n- Should be opt-in, not automatic","created_at":"2026-01-15T06:25:04Z"}]}
{"id":"rivet-dux","title":"Requirement and decision extractor","description":"Use AI to analyze parsed transcripts and extract: requirements (what must be done), decisions (why we chose this), terminology locks. Map these to discovered systems.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T09:56:13.498517-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T09:56:13.498517-07:00"}
{"id":"rivet-er6","title":"Set up build/test infrastructure","description":"npm scripts, tsconfig.json, basic test setup with a test runner","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T09:48:38.969386-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T10:07:47.066095-07:00","closed_at":"2026-01-07T10:07:47.066095-07:00","close_reason":"Closed"}
{"id":"rivet-fpt","title":"Interactive harvest review UI","description":"Present extracted decisions/requirements to user for review. Spacebar to select/deselect items. Arrow keys to move items between systems. Confirm to write to rivet.yaml. Should feel like reviewing AI-generated suggestions, not writing from scratch.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T09:56:13.685671-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T14:42:19.805492-07:00"}
{"id":"rivet-iew","title":"rivet harvest - extract decisions/requirements from transcripts","description":"Extract decisions, requirements, and terminology from AI transcript history. Prereq: scan must have run (happens on plugin install, systems must exist). User-invoked via /rivet-harvest. Interactive: user reviews extracted items, spacebar select/deselect, arrows to reassign systems. Flow: 1) Parse Claude transcripts 2) AI extracts candidates 3) User reviews 4) Writes to rivet.yaml","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-07T09:56:00.631978-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T15:19:45.910716-07:00","dependencies":[{"issue_id":"rivet-iew","depends_on_id":"rivet-3qp","type":"blocks","created_at":"2026-01-07T09:56:32.712069-07:00","created_by":"jaredsmith"},{"issue_id":"rivet-iew","depends_on_id":"rivet-vhh","type":"blocks","created_at":"2026-01-07T09:56:32.753981-07:00","created_by":"jaredsmith"},{"issue_id":"rivet-iew","depends_on_id":"rivet-dux","type":"blocks","created_at":"2026-01-07T09:56:32.796741-07:00","created_by":"jaredsmith"},{"issue_id":"rivet-iew","depends_on_id":"rivet-fpt","type":"blocks","created_at":"2026-01-07T09:56:32.837006-07:00","created_by":"jaredsmith"},{"issue_id":"rivet-iew","depends_on_id":"rivet-yvx","type":"blocks","created_at":"2026-01-07T23:33:36.002344-07:00","created_by":"jaredsmith"}]}
{"id":"rivet-kp2","title":"Add decisions field to system schema","description":"Add 'decisions' field alongside requirements. Requirements = what the system must do. Decisions = why we chose this approach. Each decision is a statement capturing design rationale.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:56:00.813752-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:12:24.474624-07:00","closed_at":"2026-01-07T13:12:24.474624-07:00","close_reason":"Decisions field added to schema and supported in system edit"}
{"id":"rivet-kw8","title":"Implement rivet init command","description":"Create initial rivet.yaml - both interactive mode and --minimal flag","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T09:48:39.564235-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:11:58.566785-07:00","closed_at":"2026-01-07T13:11:58.566785-07:00","close_reason":"Init command implemented","dependencies":[{"issue_id":"rivet-kw8","depends_on_id":"rivet-871","type":"blocks","created_at":"2026-01-07T09:49:26.085619-07:00","created_by":"jaredsmith"},{"issue_id":"rivet-kw8","depends_on_id":"rivet-rfb","type":"blocks","created_at":"2026-01-07T09:49:26.133282-07:00","created_by":"jaredsmith"}]}
{"id":"rivet-m41","title":"Systems.yaml: Boundaries should be precise, not casual","description":"**TYPE: Training Material - Do Not Close**\n\nBoundaries need to be specific and actionable, not vague.\n\n**BAD:** \"Utilities only - no business logic\"\n- Vague, casual language\n- What counts as \"business logic\"?\n\n**Some boundaries are actually requirements:**\n- \"Must use simulation timestamps\" - this is a requirement, not a boundary\n- \"Must use MarketDataSource for all data access\" - requirement\n\n**Boundaries should answer:**\n- What does this system own?\n- What must NOT be here?\n- Where are the interfaces to other systems?","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-15T00:26:03.127547-07:00","created_by":"jaredsmith","updated_at":"2026-01-15T00:26:03.127547-07:00"}
{"id":"rivet-me5","title":"Systems.yaml: Requirements need complete context","description":"**TYPE: Training Material - Do Not Close**\n\nRequirements must stand on their own. Example issue:\n\n**BAD:** \"All data access MUST go through MarketDataSource interface\"\n- What data access? Market data? All data? Too vague.\n\n**GOOD:** \"All market tick and depth data access MUST go through MarketDataSource interface\"\n\nRequirements should be:\n- Specific about scope\n- Complete without requiring domain knowledge to interpret\n- Actionable and verifiable","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-15T00:26:02.767993-07:00","created_by":"jaredsmith","updated_at":"2026-01-15T00:26:02.767993-07:00"}
{"id":"rivet-mmm","title":"Implement rivet term subcommands","description":"Add project-level glossary terms - locked definitions not tied to any system. Concepts, jargon, vocabulary for this codebase.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T10:17:41.664097-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:12:24.068226-07:00","closed_at":"2026-01-07T13:12:24.068226-07:00","close_reason":"Already implemented - term subcommands working"}
{"id":"rivet-nah","title":"Implement rivet system subcommands","description":"Implement all rivet system subcommands: add, show, list, edit, link, deprecate. See design/cli-design.yaml for spec.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T13:05:22.617142-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:11:58.967873-07:00","closed_at":"2026-01-07T13:11:58.967873-07:00","close_reason":"All system subcommands implemented (add, show, list, edit, link, deprecate)","dependencies":[{"issue_id":"rivet-nah","depends_on_id":"rivet-871","type":"blocks","created_at":"2026-01-07T13:05:35.564101-07:00","created_by":"jaredsmith"},{"issue_id":"rivet-nah","depends_on_id":"rivet-rfb","type":"blocks","created_at":"2026-01-07T13:05:35.605959-07:00","created_by":"jaredsmith"}]}
{"id":"rivet-qd6","title":"Systems.yaml: Delete deprecated SportsData system","description":"Deep-harvest found SportsData system still defined in systems.yaml, but it was supposed to be deleted.\n\nThis should be removed from systems.yaml - it's deprecated and shouldn't be referenced.\n\nNOTE: This bead CAN be closed once the fix is made.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-15T00:26:03.641979-07:00","created_by":"jaredsmith","updated_at":"2026-01-15T00:26:03.641979-07:00"}
{"id":"rivet-r3g","title":"Implement rivet decide command","description":"Add a design decision to a system. Decisions capture the WHY - rationale behind choices. Single statements, removed when supplanted.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T10:19:45.622905-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:05:14.870249-07:00","closed_at":"2026-01-07T13:05:14.870249-07:00","close_reason":"Superseded by 'rivet system edit +decision'"}
{"id":"rivet-rfb","title":"Implement rivet.yaml parser","description":"Read/write rivet.yaml with schema validation using the yaml package","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T09:48:39.354147-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:11:58.345489-07:00","closed_at":"2026-01-07T13:11:58.345489-07:00","close_reason":"YAML parser implemented with read/write/init/find functions"}
{"id":"rivet-rii","title":"Systems.yaml: Relationships need consumers and WHY","description":"**TYPE: Training Material - Do Not Close**\n\nRelationships are too light. They show dependencies but not consumers or purpose.\n\n**Example - MarketSegments:**\nCurrent: depends_on Database\n\nMissing:\n- Who USES MarketSegments? (TradingEngine, Dashboard, SegmentAnnotations, SignalResearch)\n- WHY do they use it?\n\n**Better format:**\n```yaml\nrelationships:\n  - [depends_on, Database, \"persistent storage for segment definitions\"]\n  - [used_by, TradingEngine, \"provides historical data slices for backtesting\"]\n  - [used_by, Dashboard, \"displays available segments for selection\"]\n```\n\nShow the full dependency graph, not just what a system depends on.","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-15T00:26:03.303037-07:00","created_by":"jaredsmith","updated_at":"2026-01-15T00:26:03.303037-07:00"}
{"id":"rivet-ty6","title":"TradingEngine: Must share code with live trading","description":"**TYPE: Training Material - Do Not Close**\n\n**CRITICAL DESIGN REQUIREMENT for TradingEngine:**\n\nThe TradingEngine is for simulation AND the real trading bot should use as much of the same code as possible.\n\n**Rationale:** Our simulations should run on the same software as live trading, so we have confidence that simulation results translate to real-world performance.\n\n**Current description says:** \"Simulation only - no live order execution\"\n**This is WRONG.** It should say:\n- \"Core strategy logic used by both simulation and live trading\"\n- \"Order execution is swappable (simulated fills vs live Kalshi API)\"\n- \"Strategy code must be execution-agnostic\"\n\nThe boundary between simulation and live should be at the ORDER EXECUTION layer, not the strategy layer.","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-15T00:26:03.471704-07:00","created_by":"jaredsmith","updated_at":"2026-01-15T00:26:03.471704-07:00"}
{"id":"rivet-vhh","title":"Transcript parser for Claude Code","description":"Parse Claude Code transcript files (.jsonl in ~/.claude/projects/). Extract conversations, identify requirement-like statements, decisions, and terminology.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T09:56:13.313705-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T09:56:13.313705-07:00"}
{"id":"rivet-viq","title":"Implement rivet term subcommands","description":"Implement all rivet term subcommands for project-wide glossary: define, rename, delete, list. See design/cli-design.yaml for spec.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T13:05:22.805384-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:11:59.158068-07:00","closed_at":"2026-01-07T13:11:59.158068-07:00","close_reason":"All term subcommands implemented (define, rename, delete, list)","dependencies":[{"issue_id":"rivet-viq","depends_on_id":"rivet-871","type":"blocks","created_at":"2026-01-07T13:05:35.80867-07:00","created_by":"jaredsmith"},{"issue_id":"rivet-viq","depends_on_id":"rivet-rfb","type":"blocks","created_at":"2026-01-07T13:05:35.852042-07:00","created_by":"jaredsmith"}]}
{"id":"rivet-w01","title":"Implement rivet context command","description":"Output full context for AI consumption - project info, systems, requirements, relationships","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T09:49:04.628887-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:11:58.779108-07:00","closed_at":"2026-01-07T13:11:58.779108-07:00","close_reason":"Context command implemented","dependencies":[{"issue_id":"rivet-w01","depends_on_id":"rivet-kw8","type":"blocks","created_at":"2026-01-07T09:49:26.412825-07:00","created_by":"jaredsmith"}]}
{"id":"rivet-w4w","title":"Implement rivet purge command","description":"Rename a term across the codebase. Takes old term and new term, uses ripgrep to find occurrences, passes to AI with instructions to replace. Logs the purge operation. Updates rivet.yaml terms list.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T10:13:39.383302-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T10:13:39.383302-07:00"}
{"id":"rivet-wx3","title":"Implement rivet link command","description":"Add depends-on or used-by relationships between systems","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:48:53.288691-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T13:05:15.295168-07:00","closed_at":"2026-01-07T13:05:15.295168-07:00","close_reason":"Now part of 'rivet system link' subcommand"}
{"id":"rivet-yvx","title":"Rivet as Claude Code plugin","description":"Core plugin architecture. Install hook triggers scan skill. Exposes /rivet-harvest as user-invocable skill. Exposes rivet CLI commands for non-AI operations. Defines plugin manifest, hooks, and skill structure. See design/plugin-install.yaml.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-07T23:33:30.785317-07:00","created_by":"jaredsmith","updated_at":"2026-01-07T23:33:30.785317-07:00"}
{"id":"rivet-ywi","title":"Systems.yaml: Descriptions need WHY, not just WHAT","description":"**TYPE: Training Material - Do Not Close**\n\nSystem descriptions should explain WHY the system exists, not just what it does.\n\n**Example - MarketSegments:**\n\n**Current (what):** \"Defines and manages segments - time-bounded slices of market data. Handles segment creation, querying, and depth coverage analysis.\"\n\n**Better (why):** \"Enables running simulations across specific segments of market activity and deploying bots to targeted segments. We need to slice market data into meaningful chunks because full market history is too large and we need comparable test scenarios.\"\n\n**Ask:** Why is this a system? Why does it exist? What problem does it solve?","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-15T00:26:02.940799-07:00","created_by":"jaredsmith","updated_at":"2026-01-15T00:26:02.940799-07:00"}

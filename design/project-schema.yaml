# ABOUTME: Top-level project schema for .rivet/systems.yaml
# ABOUTME: Project context, design values, and system references

# This is what a .rivet/systems.yaml file looks like at the top level

schema_draft:

  project:
    name: "MyProject"
    purpose: |
      One or two sentences about what this project does.
      Helps AI understand the big picture.

    design_values:
      # High-level feel and principles
      # These guide decisions when things are ambiguous
      - "Simplicity over flexibility"
      - "User's words preserved, not restructured"
      - "Explicit over implicit"

    conventions:
      # Optional - codebase organization rules
      # Could reference a named convention set or define inline
      # Needs a name for this concept - TBD
      organization: null  # or: "standard-ts" or custom definition

    glossary:
      # Project-level locked terms - not tied to any system
      # Concepts, definitions, vocabulary specific to this codebase
      # These are "when we say X, we mean Y" definitions
      #
      # Structure:
      #   term_name:
      #     definition: "what it means"
      #     previously: old_name    # temporary, removed once old term purged from codebase
      #
      vibe_coding:
        definition: "Development style where AI handles implementation details while human guides direction"
      scan:
        definition: "Automatic discovery of systems from codebase structure. Runs on plugin install, not user-invoked."
      harvest:
        definition: "Interactive extraction of decisions/requirements from AI transcripts. User reviews and selects items."
      trading_engine:
        definition: "Core trading logic and execution"
        previously: arb_trader    # removed once 'arb_trader' is purged from codebase

  systems:
    # References to individual system entries
    # Each system has: description, requirements, symbols, relationships
    Router:
      # ... (see schema-draft.yaml for full system schema)
    Config:
      # ...

# The project section is new - gives AI context before diving into systems
# Design values help AI make judgment calls that match user's style
# Conventions (optional) provide structure rules
# Glossary locks project-wide vocabulary - terms that aren't system-specific
#   but have specific meaning in this codebase. Use for concepts, jargon,
#   conventions that need consistent interpretation.
#
# The 'previously' field is temporary - it helps AI understand renames during
# transition. It should be auto-removed once the old term is purged from the
# codebase. Implementation: 'rivet check' or a dedicated cleanup command scans
# for terms in 'previously' fields; if not found anywhere in code, remove the field.

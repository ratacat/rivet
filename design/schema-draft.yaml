# ABOUTME: Draft schema for terminology entries
# ABOUTME: This is the structure, not actual data

# Example entry showing all fields:
example_entry:
  ExampleSystem:
    type: system                    # system | concept (keep it simple)
    description: |
      User's words describing what this is, lightly cleaned.
      Keep it short - one or two sentences max.
    status: active                  # active | deprecated | replacing:OtherThing
    replaces: null                  # what this replaced, if anything

    requirements:                   # atomic statements - the WHAT
      - "Must do X"
      - "Must handle Y"

    decisions:                      # design rationale - the WHY
      - "Redis for session storage - need sub-ms latency"
      - "Async-first API for high-concurrency workloads"

    terms:                          # locked terminology (map: term -> context)
      ExampleSystem: null           # locked, self-explanatory
      createExampleSystem: "factory function - use instead of 'new ExampleSystem()'"
      useExampleSystem: "React hook for accessing ExampleSystem in components"
      # value is optional context: when to use, what it is, why it's locked
      # null means "locked but self-explanatory"

    depends_on:                     # what this needs
      - OtherSystem
      - Config

    used_by:                        # what needs this
      - App
      - Tests

    differs_from:                   # disambiguation - things this is NOT
      - SimilarThing                # prevents scope confusion
      - RelatedButDifferent

# Schema rules:
rules:
  - description is required, max ~100 words
  - requirements are atomic single sentences (the WHAT)
  - decisions are single statements capturing the WHY
  - when a decision is supplanted, remove it (stay true to "what IS")
  - terms is a map: term -> optional context (null if self-explanatory)
  - terms are optional/minimal - only key identifiers that matter, not exhaustive
  - terms are locked once set, changes require explicit migration (use rivet purge)
  - status transitions: active -> deprecated -> (deleted from file)
  - replacing:X status means this is actively replacing X
  - differs_from is optional but high value for similar-sounding things
